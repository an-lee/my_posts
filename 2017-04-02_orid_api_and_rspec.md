---
title: ORID_API和RSPEC
date: 2017-04-2 06:00
categories: fullstack
tags:
  - Rails
  - api
  - ORID
---

昨天是我辞职之后的第一天。

在家把 Web API 部分和自动化测试的内容重新练习了一遍。

API 是程序与程序之间的接口，提供 API 的一方称为服务端，使用 API 的一方称为客户端。利用 Rails 既可以做客户端，也可以做服务端。

网上有很多提供 API 服务的网站，例如[聚合数据](https://www.juhe.cn/)就作为服务端提供了很多 API 的接口，我们用 Rails 作为客户端直接调用 API 的数据来使用，比如说，利用股票的 API，我完成了一个[股票查询系统](http://an-lee.pro/2017/03/31/2017-03-31-how_to_create_a_stock_api/)。

同时，Rails 也可以作为服务端，为其他客户端提供 API 数据。对于个人来说，一个常见的使用场景是，开发手机 APP 时，需要调用服务器的数据，利用的就是服务器的 API 接口。

API 接口的原理大概是下面这样的过程

> 输入特定的参数 => API => 返回特定格式的结果

在网上随便翻了翻，被 API 的丰富性震惊了。对「编程就好像拼图」这句话有了更加直接地感受，也对人类在编程领域如此广袤的协作网络再一次惊叹。

自动化测试就是用程序来测试程序。所有的程序在编写的时候，都会有一个预期的特定输出，如果得到的输出跟预期不一样，那就说明这个程序哪里出错了。制定输入和输出的规则，用来检查程序的正确性，这样的规则其实就是测试程序。

利用测试程序，可以确保在写程序的过程中实现「稳扎稳打，步步为营」。

> 写一段测试代码让测试失败，改一下实作让测试通过，然后再写下一个测试码让测试失败，然后再改实作，如此迭代交替。这样的技巧，称为 **TDD(Test-Driven-Development)**。

![TDD](http://okgqgpbx3.bkt.clouddn.com/blog/2017-04-01-224656.jpg)

这个 TDD 实在是一个非常聪明的方法论

> 提出一个小目标 => 快速实现这个小目标 => 改善实现的方法 => 提出下一个小目标 => 快速实现……

先把事情做成，在把事情做漂亮，如此迭代往前。

接下来要做的是，用实战来反复练习。